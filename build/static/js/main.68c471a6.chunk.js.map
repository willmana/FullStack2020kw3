{"version":3,"sources":["components/Persons.js","components/PersonForm.js","components/Filter.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Person","person","deletePerson","name","number","onClick","Persons","persons","filter","personsFiltered","toLowerCase","includes","map","key","id","PersonForm","addName","newName","newNumber","handleNameChange","handleNumberChange","onSubmit","value","onChange","type","Filter","handleFilterChange","baseUrl","axios","get","then","response","data","newObject","post","put","delete","Notification","message","className","App","useState","setPersons","setNewName","setNewNumber","setFilter","errorMessage","setErrorMessage","messageType","setMessageType","useEffect","personService","initialPersons","event","target","some","preventDefault","window","confirm","find","nameObject","returnValue","personnel","setTimeout","catch","error","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.68c471a6.chunk.js","sourcesContent":["import React from 'react'\n\nconst Persons = ({ persons, filter, deletePerson }) => {\n    const personsFiltered = persons\n        .filter(person =>\n            person.name.toLowerCase().includes(filter.toLowerCase()))\n    return (\n        <div>\n            {personsFiltered.map(person =>\n                <Person key={person.id} person={person} deletePerson={() => deletePerson(person.id)} />\n            )}\n        </div>\n    )\n}\n\nconst Person = ({ person, deletePerson }) => {\n    return <div>\n        {person.name} {person.number} <button onClick={deletePerson}> delete </button>\n    </div>\n}\n\n\nexport default Persons","import React from 'react'\n\nconst PersonForm = ({ addName, newName, newNumber, handleNameChange, handleNumberChange }) => {\n    return <form onSubmit={addName}>\n        name:\n      <input\n          value={newName}\n          onChange={handleNameChange}\n        />\n        <br/>\n        number:\n      <input\n          value={newNumber}\n          onChange={handleNumberChange}\n        />\n        <br/>\n        <button type=\"submit\">add</button>\n    </form>\n  }\n\nexport default PersonForm","import React from 'react'\n\nconst Filter = ({filter, handleFilterChange}) => {\n    return <form>\n        filter shown with:\n        <input\n            value={filter}\n            onChange={handleFilterChange}\n        />\n    </form>\n}\n\nexport default Filter","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = newObject => {\n    const request =  axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n  }\n\nconst del = id => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nexport default {getAll, create, update, del}","import React from 'react'\n\nconst Notification = ({ message, id }) => {\n    if (message === null) {\n        return null\n    }\n\n    if(id===1) {\n        return (\n            <div className=\"success\">\n                {message}\n            </div>\n        )\n    }\n    return (\n        <div className=\"error\">\n            {message}\n        </div>\n    )\n}\n\nexport default Notification\n","import React, { useState, useEffect } from 'react'\nimport Persons from './components/Persons'\nimport PersonForm from './components/PersonForm'\nimport Filter from './components/Filter'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\nimport './index.css'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filter, setFilter] = useState('')\n  const [errorMessage, setErrorMessage] = useState(null)\n  const [messageType, setMessageType] = useState()\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const addName = (event) => {\n    const added = persons.some(person => person.name.toLowerCase() === newName.toLowerCase())\n    if (!added) {\n      event.preventDefault()\n      const nameObject = {\n        name: newName,\n        number: newNumber\n      }\n      personService.create(nameObject).then(returnValue => {\n        setPersons(persons.concat(returnValue))\n        setNewName('')\n        setNewNumber('')\n      }).catch(error => {\n        setMessageType(0)\n        setErrorMessage([`${error.response.data.error}`, 'error'])\n      })\n      setMessageType(1)\n      setErrorMessage(\n        `${newName} was added`\n      )\n      setTimeout(() => {\n        setErrorMessage(null)\n      }, 5000)\n    } else {\n      event.preventDefault()\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n        const person = persons.find(person => person.name === newName)\n        const nameObject = {\n          name: newName,\n          number: newNumber\n        }\n        personService\n          .update(person.id, nameObject).then(returnValue => {\n            setPersons(persons.map(personnel => person.id !== personnel.id ? personnel : returnValue))\n            setMessageType(1)\n            setErrorMessage(\n              `${newName} was updated`\n            )\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 5000)\n          }).catch(error => {\n            setMessageType(2)\n            setErrorMessage(\n              `Person '${person.name}' was already removed from server`\n            )\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 5000)\n            setPersons(persons.filter(personnel => personnel.id !== person.id))\n          })\n      }\n\n    }\n  }\n\n  const deletePerson = (id) => {\n    const person = persons.find(person => person.id === id)\n    if (window.confirm(`Delete ${person.name}?`)) {\n      personService.del(id).then(returnValue => {\n        setPersons(persons.filter(person => person.id !== id))\n        setMessageType(1)\n        setErrorMessage(\n          `${person.name} was deleted`\n        )\n        setTimeout(() => {\n          setErrorMessage(null)\n        }, 5000)\n      }).catch(error => {\n        setMessageType(2)\n        setErrorMessage(\n          `Note '${person.name}' was already removed from server`\n        )\n        setTimeout(() => {\n          setErrorMessage(null)\n        }, 5000)\n        setPersons(persons.filter(person => person.id !== id))\n      })\n    }\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setFilter(event.target.value)\n  }\n\n  return (\n    <div>\n      <Notification message={errorMessage} id={messageType} />\n      <h1>Phonebook</h1>\n      <Filter\n        filter={filter}\n        handleFilterChange={handleFilterChange}\n      />\n      <h2>Add a new</h2>\n      <PersonForm\n        addName={addName}\n        newName={newName}\n        newNumber={newNumber}\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n      />\n      <h2>Numbers</h2>\n      <Persons\n        persons={persons}\n        filter={filter}\n        deletePerson={deletePerson}\n      />\n    </div>\n  )\n\n}\n\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}